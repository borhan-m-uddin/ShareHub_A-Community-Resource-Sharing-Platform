/* Explicit theme override: set data-theme='dark' on html to force dark mode;
    omit or set to 'light' to use base variables and OS preference. */
/* Dark theme palette: Jellyfish-inspired (deep navy + cyan accents) */
html[data-theme='dark'] {
    --bg: #0a0f1e;           /* deep navy */
    --card: #0f1b2d;         /* indigo-blue surface */
    --text: #e8f2ff;         /* soft light text */
    --muted: #88a1c3;        /* muted blue */
    --border: #1a2b45;       /* blue border */
    --shadow: 0 6px 20px rgba(0,0,0,0.5);

    /* Theme primaries for dark (jellyfish cyan) */
    --primary: #4fd1d9;      /* cyan */
    --primary-600: #35b7bf;  /* deeper cyan */
    --primary-700: #2a8e93;  /* darkest accent */
    --info: #9adcf2;         /* soft cyan */
    --laser: #ff527a;
    --laser-glow: rgba(255, 82, 122, 0.55);
}
html[data-theme='dark'] .site-header { background: rgba(10, 15, 30, 0.9); border-bottom-color: var(--border); }
html[data-theme='dark'] .site-nav a { color: var(--text); }
html[data-theme='dark'] .site-nav a:hover { background:#1a2b45; color: var(--info); }
html[data-theme='dark'] .form-control { background:#111827; color:#e5e7eb; border-color:#1f2937; }
html[data-theme='dark'] .wrapper, html[data-theme='dark'] .card { border-color:#1f2937; }
/* High-specificity dark table overrides for all lists when forced dark mode */
html[data-theme='dark'] body .table th, html[data-theme='dark'] body .request-table th, html[data-theme='dark'] body .services-table th, html[data-theme='dark'] body .reviews-table th, html[data-theme='dark'] body .messages-table th, html[data-theme='dark'] body .users-table th { background:#0b1220 !important; color:#e5e7eb; }
html[data-theme='dark'] body .table td, html[data-theme='dark'] body .request-table td, html[data-theme='dark'] body .services-table td, html[data-theme='dark'] body .reviews-table td, html[data-theme='dark'] body .messages-table td, html[data-theme='dark'] body .users-table td { background:#0f172a !important; color:#e5e7eb; }
html[data-theme='dark'] body .table th, html[data-theme='dark'] body .table td,
html[data-theme='dark'] body .request-table th, html[data-theme='dark'] body .request-table td,
html[data-theme='dark'] body .services-table th, html[data-theme='dark'] body .services-table td,
html[data-theme='dark'] body .reviews-table th, html[data-theme='dark'] body .reviews-table td,
html[data-theme='dark'] body .messages-table th, html[data-theme='dark'] body .messages-table td,
html[data-theme='dark'] body .users-table th, html[data-theme='dark'] body .users-table td { border-color:#1f2937 !important; }
html[data-theme='dark'] body .table tr:nth-child(even) td,
html[data-theme='dark'] body .request-table tr:nth-child(even) td,
html[data-theme='dark'] body .services-table tr:nth-child(even) td,
html[data-theme='dark'] body .reviews-table tr:nth-child(even) td,
html[data-theme='dark'] body .messages-table tr:nth-child(even) td,
html[data-theme='dark'] body .users-table tr:nth-child(even) td { background:#111827 !important; }
html[data-theme='dark'] h1, html[data-theme='dark'] h2, html[data-theme='dark'] h3, html[data-theme='dark'] h4 { color: var(--text); }
html[data-theme='dark'] p { color: #cbd5e1; }
html[data-theme='dark'] .brand-sub { color: #9ca3af; }
html[data-theme='dark'] .card .card-header, html[data-theme='dark'] .card .card-body { color: var(--text); }
html[data-theme='dark'] .dashboard-links a { color: var(--text); }
html[data-theme='dark'] a { color: var(--info); }
/* Make dark-mode logos visible if only a light logo asset exists */
html[data-theme='dark'] .site-logo,
html[data-theme='dark'] .brand-banner-logo {
    filter: invert(1) brightness(1.15) contrast(1.05);
}

/* Force light theme when explicitly chosen */
/* Light theme palette: navy/pink (from image 4) */
html[data-theme='light'] {
    --bg: #eef7f4;          /* soft mint wash */
    --card: #ffffff;        /* clean surface */
    --text: #0e2730;        /* deep blue-green text */
    --muted: #4c6b73;       /* cool slate teal */
    --border: #d7e6e1;      /* subtle mint border */
    --shadow: 0 6px 20px rgba(5, 41, 45, 0.06);

    /* Theme primaries for light */
    --primary: #0fa3a8;     /* teal */
    --primary-600: #0b7f83; /* deeper teal */
    --primary-700: #075e61; /* darkest teal */
    --info: #4ca7c9;        /* cool aqua */
}
html[data-theme='light'] .site-header { background: #fff; border-bottom-color:#eef2f7; }
html[data-theme='light'] .site-nav a { color: var(--text); }
html[data-theme='light'] .site-nav a:hover { color: var(--primary); background: rgba(15, 163, 168, 0.08); }
html[data-theme='light'] .form-control { background:#fff; color:#0f172a; border-color:#e6e9ef; }
html[data-theme='light'] .wrapper, html[data-theme='light'] .card { border-color:#e6e9ef; }
html[data-theme='light'] body .table th, html[data-theme='light'] body .request-table th, html[data-theme='light'] body .services-table th, html[data-theme='light'] body .reviews-table th, html[data-theme='light'] body .messages-table th, html[data-theme='light'] body .users-table th { background:#f8fafc !important; color:#0f172a; }
html[data-theme='light'] body .table td, html[data-theme='light'] body .request-table td, html[data-theme='light'] body .services-table td, html[data-theme='light'] body .reviews-table td, html[data-theme='light'] body .messages-table td, html[data-theme='light'] body .users-table td { background:#ffffff !important; color:#0f172a; }
html[data-theme='light'] body .table th, html[data-theme='light'] body .table td,
html[data-theme='light'] body .request-table th, html[data-theme='light'] body .request-table td,
html[data-theme='light'] body .services-table th, html[data-theme='light'] body .services-table td,
html[data-theme='light'] body .reviews-table th, html[data-theme='light'] body .reviews-table td,
html[data-theme='light'] body .messages-table th, html[data-theme='light'] body .messages-table td,
html[data-theme='light'] body .users-table th, html[data-theme='light'] body .users-table td { border-color:#eef2f7 !important; }
html[data-theme='light'] body .table tr:nth-child(even) td,
html[data-theme='light'] body .request-table tr:nth-child(even) td,
html[data-theme='light'] body .services-table tr:nth-child(even) td,
html[data-theme='light'] body .reviews-table tr:nth-child(even) td,
html[data-theme='light'] body .messages-table tr:nth-child(even) td,
html[data-theme='light'] body .users-table tr:nth-child(even) td { background:#fbfcfe !important; }
html[data-theme='light'] p { color: var(--text); }
html[data-theme='light'] span { color: #171818; }

/*
    Global Theme Refresh
    - Modern palette via CSS variables
    - Polished buttons, forms, cards, alerts, badges, modals
    - Light/Dark friendly with smooth focus/hover states
*/

:root {
    /* Default = light theme (mint/teal + cool neutrals) */
    --bg: #eef7f4;          /* soft mint wash */
    --card: #ffffff;        /* clean white surface */
    --text: #0e2730;        /* deep blue-green text */
    --muted: #4c6b73;       /* cool slate teal */
    --border: #d7e6e1;      /* subtle mint border */
    --shadow: 0 6px 20px rgba(5, 41, 45, 0.06);

    --primary: #0fa3a8;     /* teal */
    --primary-600: #0b7f83; /* deeper teal */
    --primary-700: #075e61; /* darkest teal */
    --success: #22c55e;     /* unchanged */
    --success-700: #15803d;
    --warning: #f59e0b;
    --warning-700: #b45309;
    --danger: #dc2626;
    --danger-700: #991b1b;
    --info: #4ca7c9;        /* cool aqua */
    /* Accent used for navbar laser sweep */
    --laser: #23d3b3;       /* mint laser */
    --laser-glow: rgba(35, 211, 179, 0.55);
}

/* Conversations Page (migrated from inline <style> in conversations.php) */
.conversations-grid{display:grid;grid-template-columns:320px 1fr;gap:18px;margin-top:12px}
@media (max-width:880px){.conversations-grid{grid-template-columns:1fr}}
.convo-sidebar{display:flex;flex-direction:column}
.convo-header{font-size:15px;font-weight:700;margin:0 0 6px}
.start-box{display:flex;gap:8px;margin-bottom:12px}
.start-box input{flex:1;padding:6px 8px;border:1px solid var(--border);border-radius:6px;font:inherit}
.start-box button{background:var(--success,#238636);color:#fff;border:0;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:13px}
.convo-list{list-style:none;margin:0;padding:0;overflow-y:auto;flex:1;border:1px solid var(--border);border-radius:8px;background:var(--card)}
.convo-list li{padding:10px 14px;border-bottom:1px solid var(--border);cursor:pointer;line-height:1.3}
.convo-list li:last-child{border-bottom:none}
.convo-list li:hover{background:rgba(0,0,0,.04)}
.convo-list li.active{background:var(--primary-bg,#dceeff);font-weight:600}
.convo-list .subtitle{display:block;color:var(--muted,#6b7280);font-size:12px;margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.badge-unread{background:#d1242f;color:#fff;font-size:11px;padding:2px 6px;border-radius:12px;margin-left:6px}
.thread-card{display:flex;flex-direction:column}
.thread-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.messages{flex:1;overflow-y:auto;padding:8px 4px 8px 0;display:flex;flex-direction:column;gap:14px}
.msg{max-width:760px;padding:10px 14px;border-radius:16px;border:1px solid var(--border);background:var(--msg-in-bg,var(--card));color:var(--msg-in-text,var(--text));line-height:1.45;position:relative;box-shadow:0 1px 1px rgba(0,0,0,.04);word-wrap:break-word;}
/* Outgoing (current user) messages */
.msg.mine{margin-left:auto;background:var(--msg-out-bg,#0fa3a8);color:var(--msg-out-text,#fff);border-color:rgba(0,0,0,0.05);box-shadow:0 2px 6px rgba(0,0,0,.18);}
.msg.mine small{color:rgba(255,255,255,0.85)!important;}
.msg small{display:block;font-size:11px;color:var(--muted,#555);margin-top:6px}
/* Message bubble color variables (light theme defaults) */
:root { --msg-in-bg: var(--card); --msg-in-text: var(--text); --msg-out-bg: #0fa3a8; --msg-out-text: #ffffff; --composer-min-height:130px; }
/* Slightly reduce default composer height for balance */
:root { --composer-min-height:120px; }
html[data-theme='dark'] { --msg-out-bg:#2a8e93; --msg-out-text:#ffffff; }
.composer{margin-top:16px;display:flex;flex-direction:column;gap:8px}
.composer textarea{min-height:var(--composer-min-height);resize:vertical;padding:12px 14px;font:inherit;border:1px solid var(--border);border-radius:12px;background:var(--card);line-height:1.5}
.composer-shell{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px;display:flex;flex-direction:column;gap:12px;box-shadow:0 4px 14px rgba(0,0,0,.06);}
html[data-theme='dark'] .composer-shell{background:#111c2b;border-color:#1d3048;box-shadow:0 4px 14px rgba(0,0,0,.5);}
/* User search results (conversation sidebar) */
#userSearchResults li:hover{background:rgba(0,0,0,.05);} 
html[data-theme='dark'] #userSearchResults li:hover{background:#1a2b45;}
/* Avatar chips */
.avatar-chip{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--info));color:#fff;font-size:12px;font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,.25);vertical-align:middle;}
html[data-theme='dark'] .avatar-chip{background:linear-gradient(135deg,#2a8e93,#4fd1d9);} 
.composer-controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.composer input[type=text]{flex:1;min-width:220px;padding:8px 10px;border:1px solid var(--border);border-radius:8px;font:inherit}
.composer button{background:var(--primary);color:#fff;border:0;padding:8px 18px;border-radius:8px;font-size:14px;cursor:pointer}
.composer button:disabled{opacity:.55}

/* Global page layout */
body {
        font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
        background-color: var(--bg);
        color: var(--text);
        margin: 0;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
}

.wrapper {
    max-width: 1100px;
    margin: 24px auto;
    padding: 24px;
    background: var(--card);
    border-radius: 12px;
    box-shadow: var(--shadow);
    box-sizing: border-box;
}

/* Centered card utility (used by auth pages) */
.card-centered {
    max-width: 420px;
    margin: 48px auto;
    padding: 28px;
    text-align: center;
}

h1, h2, h3, h4 {
    margin: 0 0 12px 0;
    color: var(--text);
}

p { margin: 0 0 12px 0; color: var(--text); opacity: 0.9; }

/* Forms */
.form-group { margin-bottom: 14px; }
label { display:block; margin-bottom:6px; color:#374151; font-weight:600; font-size:0.95rem; }
.form-control {
    width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px; background:#fff; box-sizing:border-box;
    transition: border-color .2s ease, box-shadow .2s ease;
}
.form-control:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.12);
}
.form-control[disabled], .form-control[readonly] {
    background: #f3f4f6;
    color: #6b7280;
}
/* Lock textarea size globally (user request: prevent manual resize) */
textarea, textarea.form-control { resize: none !important; }
.help-block { color:#b91c1c; font-size:0.9rem; margin-top:6px; display:block; }

/* Filter/Search bar */
.filter-bar { display:flex; flex-wrap:wrap; gap:10px; align-items:center; padding:10px 12px; background: linear-gradient(0deg, rgba(255,255,255,0.75), rgba(255,255,255,0.75)); border:1px solid var(--border); border-radius:12px; box-shadow: 0 2px 10px rgba(16,24,40,0.06); }
.filter-bar .form-control { min-width: 180px; max-width: 280px; background:#fff; }
.filter-bar input[type="date"].form-control { min-width:160px; max-width:200px; }
.filter-bar .btn { height:40px; }
.filter-bar select.form-control { appearance:none; background-image: url('data:image/svg+xml;utf8,<svg fill="%236b7280" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"/></svg>'); background-repeat:no-repeat; background-position: right 10px center; background-size:14px; padding-right:30px; }

/* Dark mode support for filter bar */
html[data-theme='dark'] .filter-bar { background: rgba(15,23,42,0.6); border-color:#1f2937; }
html[data-theme='dark'] .filter-bar .form-control { background:#111827; color:#e5e7eb; border-color:#1f2937; }
@media (prefers-color-scheme: dark) {
    .filter-bar { background: rgba(15,23,42,0.6); border-color:#1f2937; }
    .filter-bar .form-control { background:#111827; color:#e5e7eb; border-color:#1f2937; }
}

/* Buttons */
.btn { display:inline-block; padding:10px 16px; border-radius:10px; border:0; cursor:pointer; font-weight:700; letter-spacing:.2px; transition: transform .06s ease, box-shadow .2s ease, background .2s ease; }
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }
.btn:focus { outline:2px solid rgba(37,99,235,0.15); box-shadow: 0 6px 18px rgba(37,99,235,0.18); }

.btn-primary { background: var(--primary); color:#fff; }
.btn-primary:hover { background: var(--primary-600); }

.btn-secondary { background:#6b7280; color:#fff; }
.btn-secondary:hover { background:#4b5563; }

.btn-default { background:#374151; color:#fff; }
.btn-default:hover { background:#111827; }

.btn-success { background: var(--success); color:#fff; }
.btn-success:hover { background: var(--success-700); }

.btn-warning { background: var(--warning); color:#111827; }
.btn-warning:hover { background: var(--warning-700); color:#fff; }

.btn-danger { background: var(--danger); color:#fff; }
.btn-danger:hover { background: var(--danger-700); }

.btn-outline { background: transparent; color: var(--primary); border: 2px solid var(--primary); }
.btn-outline:hover { background: var(--primary); color:#fff; }
.btn-sm { padding:6px 10px; font-size:0.85rem; border-radius:8px; }

/* Links */
a { color: var(--primary); text-decoration:none; }
a:hover { text-decoration:underline; }

/* Text color helpers */
.text-warning { color: var(--warning); }
.text-warning-700 { color: var(--warning-700); }
.text-muted { color: var(--muted); }

/* Alerts */
.alert { padding:12px 14px; border-radius:10px; margin-bottom:12px; border:1px solid var(--border); }
.alert-danger { background:#fff1f2; color:#991b1b; border:1px solid #fecaca; }
.alert-info { background:#eef2ff; color:#3730a3; border:1px solid #c7d2fe; }
.alert-success { background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
.alert-error { background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }

/* Dashboard links */
.dashboard-links { display:flex; flex-wrap:wrap; gap:12px; }
.dashboard-links a { flex:1 1 240px; padding:12px; background:#f8fafc; border-radius:8px; box-shadow:0 1px 0 rgba(16,24,40,0.03); color:#0f172a; }

/* Tables */
/* Unified table styles across list pages */
.table, .request-table, .services-table, .reviews-table, .messages-table, .users-table { width:100%; border-collapse:collapse; margin-top:12px; }
.table th, .table td,
.request-table th, .request-table td,
.services-table th, .services-table td,
.reviews-table th, .reviews-table td,
.messages-table th, .messages-table td,
.users-table th, .users-table td { border:1px solid #eef2f7; padding:10px 12px; text-align:left; vertical-align:middle; }
.table th, .request-table th, .services-table th, .reviews-table th, .messages-table th, .users-table th { background:#f8fafc; color:#0f172a; font-weight:700; }
.table tr:nth-child(even) td,
.request-table tr:nth-child(even) td,
.services-table tr:nth-child(even) td,
.reviews-table tr:nth-child(even) td,
.messages-table tr:nth-child(even) td,
.users-table tr:nth-child(even) td { background:#fbfcfe; }

.status-pending { color:#b45309; font-weight:700; }
.status-approved { color:#15803d; font-weight:700; }
.status-declined { color:#dc2626; font-weight:700; }
.status-completed { color:#1e40af; font-weight:700; }

.action-buttons form { display:inline-block; margin-right:6px; }

/* Badges */
.badge { display:inline-block; padding:4px 10px; border-radius:999px; font-size:0.8rem; color:#fff; font-weight:700; letter-spacing:.2px; }
.badge-primary { background:#2563eb; }
.badge-info { background:#06b6d4; }
.badge-success { background:#22c55e; }
/* Role/status badges (admin area) */
.badge-admin { background:#dc2626; }
.badge-giver { background:#22c55e; }
.badge-seeker { background:#2563eb; }
.badge-approved { background:#22c55e; }
.badge-rejected { background:#dc2626; }

/* Condition/availability badges (used in item cards) */
.badge-new { background:#0ea5e9; }
.badge-like_new { background:#14b8a6; }
.badge-good { background:#22c55e; }
.badge-fair { background:#f59e0b; color:#111827; }
.badge-poor { background:#ef4444; }
.badge-available { background:#22c55e; }
.badge-unavailable { background:#6b7280; }
.badge-pending { background:#f59e0b; color:#111827; }

/* Cards */
.card { background: var(--card); border:1px solid var(--border); border-radius:14px; box-shadow: var(--shadow); }
.card .card-header { padding:14px 16px; border-bottom:1px solid var(--border); font-weight:800; }
.card .card-body { padding:16px; }

/* Auth card accent and lift */
.auth-page .card { position: relative; z-index: 1; transition: transform .18s ease, box-shadow .22s ease; }
.auth-page .card:hover { transform: translateY(-3px); box-shadow: 0 16px 32px rgba(2,6,23,0.16); }
.auth-page .card::before {
    content: "";
    position: absolute; left: 0; right: 0; top: 0; height: 4px; border-top-left-radius: 14px; border-top-right-radius: 14px;
    background: linear-gradient(90deg, var(--primary), var(--laser), var(--info));
    background-size: 200% 100%;
    animation: barShift 8s ease-in-out infinite;
}
@keyframes barShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

/* Simple grid utilities */
.grid { display:grid; gap:16px; }
.grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
.grid-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
.grid-auto { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }

/* Simple vertical list */
.list { background: var(--card); border:1px solid var(--border); border-radius:12px; overflow:hidden; }
.list .list-item { padding:14px 16px; border-bottom:1px solid var(--border); }
.list .list-item:last-child { border-bottom:0; }
.list .list-item:hover { background:#f8fafc; }

/* Muted text */
.muted { color: var(--muted); }

/* Empty state utility */
.empty-state { text-align:center; padding:48px 16px; color: var(--muted); }
.empty-state h3 { margin: 0 0 8px 0; color: var(--text); }

/* Responsive */
@media (max-width:800px){
    .wrapper { margin:12px; padding:16px; }
    .dashboard-links a { flex:1 1 100%; }
    .request-table th, .request-table td { font-size:0.92rem; padding:8px; }
    .grid-2 { grid-template-columns: 1fr; }
}

/* small helper to reuse old login styles if pages use .card-centered */
.card-centered .wrapper { box-shadow:none; }

/* ===== Auth pages: centered, no-scroll ===== */
.auth-page { position: relative; min-height: 100vh; overflow: hidden; }
/* Full-screen animated background (behind everything) */
.auth-page::before,
.auth-page::after { content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 0; }
/* Diagonal light beam sweeps across entire viewport */
.auth-page::before {
    background: linear-gradient(90deg, transparent 0%, var(--laser) 50%, transparent 100%);
    opacity: 0.22; filter: blur(24px) saturate(120%);
    transform: rotate(35deg) translateX(-20%);
    animation: beamSweep 14s ease-in-out infinite alternate;
}
/* Soft grid fills viewport for subtle depth */
.auth-page::after {
    background-image:
        linear-gradient(var(--grid-line) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
    background-size: 24px 24px, 24px 24px;
    background-position: 0 0, 0 0;
    opacity: 0.3; animation: gridDrift 28s linear infinite;
}
/* Remove extra spacing from main wrapper on auth pages */
.auth-page .main-content { position: relative; z-index: 1; margin: 0 auto; padding: 0 16px; max-width: 1100px; }
/* Fill viewport minus header (~64px) to avoid page scroll; keep above background */
.auth-page .auth-container { position: relative; z-index: 1; min-height: calc(100dvh - var(--header-h, 64px)); display: grid; place-items: center; padding: 0 16px;margin: 0 auto; overflow: hidden; }
/* Ensure perfect centering: remove extra vertical margins on the auth card */
.auth-page .card-centered { margin: 0 auto; }

/* Theme-aware grid line color */
:root { --grid-line: rgba(15,23,42,0.06); }
html[data-theme='dark'] { --grid-line: rgba(255,255,255,0.06); }
@keyframes beamSweep {
    from { transform: rotate(35deg) translateX(-18%); }
    to   { transform: rotate(35deg) translateX(18%); }
}
@keyframes gridDrift {
    0% { background-position: 0 0, 0 0; }
    50% { background-position: 12px 8px, 8px 12px; }
    100% { background-position: 24px 24px, 24px 24px; }
}
/* Reduce motion preference respected */
@media (prefers-reduced-motion: reduce) {
    .auth-page::before,
    .auth-page::after { animation: none !important; }
}
.auth-bg { position: absolute; inset: 0; z-index: 0; pointer-events: none; overflow: hidden; }
.auth-bg .blob { position: absolute; width: 520px; height: 520px; border-radius: 50%; filter: blur(60px); opacity: 0.25; mix-blend-mode: screen; }
.auth-bg .b1 { background: radial-gradient(circle at 30% 30%, #ff7ab6, rgba(255, 122, 182, 0) 60%); left: -120px; top: -100px; animation: float 16s ease-in-out infinite; }
.auth-bg .b2 { background: radial-gradient(circle at 70% 70%, #4fd1d9, rgba(79, 209, 217, 0) 60%); right: -140px; bottom: -120px; animation: float 18s ease-in-out infinite reverse; }
.auth-bg .b3 { background: radial-gradient(circle at 50% 50%, #83a6ce, rgba(131,166,206,0) 60%); left: 40%; top: 30%; animation: float 22s ease-in-out infinite; }

@keyframes float { 0% { transform: translate3d(0,0,0) scale(1); } 50% { transform: translate3d(0,-18px,0) scale(1.03); } 100% { transform: translate3d(0,0,0) scale(1); } }

.auth-card { position: relative; z-index: 1; width: 100%; max-width: 460px; max-height: 92vh; overflow: auto; background: rgba(255,255,255,0.65); border: 1px solid rgba(13, 30, 76, 0.08); backdrop-filter: blur(10px) saturate(120%); -webkit-backdrop-filter: blur(10px) saturate(120%); border-radius: 16px; box-shadow: 0 20px 40px rgba(2, 6, 23, 0.15); }
html[data-theme='dark'] .auth-card { background: rgba(10, 15, 30, 0.55); border-color: rgba(26, 43, 69, 0.6); }
@media (prefers-color-scheme: dark) {
    .auth-card { background: rgba(10, 15, 30, 0.55); border-color: rgba(26, 43, 69, 0.6); }
}
.auth-card .card-body { padding: 22px; }
.auth-title { font-size: 1.75rem; font-weight: 900; letter-spacing: 0.2px; background: linear-gradient(90deg, var(--primary), var(--info), var(--primary)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; background-size: 200% 100%; animation: shimmerX 6s ease-in-out infinite; text-align: center; margin-bottom: 6px; }
.auth-subtitle { text-align: center; color: var(--muted); margin-bottom: 18px; }

@keyframes shimmerX { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

.auth-actions { display: flex; align-items: center; gap: 10px; justify-content: space-between; margin-top: 6px; }
.btn-shimmer { position: relative; overflow: hidden; }
.btn-shimmer::after { content: ""; position: absolute; inset: 0; background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.35) 20%, transparent 40%); transform: translateX(-120%); transition: transform .4s ease; }
.btn-shimmer:hover::after { transform: translateX(120%); }

/* Inputs: subtle glow on focus (respecting themes) */
.auth-card .form-control { background: rgba(255,255,255,0.9); }
html[data-theme='dark'] .auth-card .form-control { background: rgba(17,24,39,0.85); }
@media (prefers-color-scheme: dark) {
    .auth-card .form-control { background: rgba(17,24,39,0.85); }
}
.auth-card .form-control:focus { box-shadow: 0 0 0 6px rgba(37, 99, 235, 0.12); }

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    .auth-bg .blob { animation: none !important; }
    .auth-title { animation: none !important; }
    .btn-shimmer::after { display: none !important; }
}

    

/* Site header */
.site-header { background: var(--card); border-bottom: 1px solid var(--border); position: sticky; top:0; z-index: 50; backdrop-filter: saturate(140%) blur(6px); }
.site-header .container { max-width:1100px; margin:0 auto; padding:8px 20px; display:flex; align-items:center; justify-content:space-between; }
.brand { display:flex; align-items:center; gap:12px; }
.site-logo { width:280px; height:auto; display:block; }
.brand-title { font-size:1.25rem; font-weight:800; color: var(--text); }
.brand-sub { font-size:0.85rem; color: var(--muted); margin-top:2px; }
.site-nav a { position: relative; margin-left:12px; color: var(--text); font-weight:700; text-decoration:none; padding:6px 8px; border-radius:8px; transition: background .2s ease, color .2s ease; }
.site-nav a:hover { color: var(--primary); background: rgba(0,0,0,0.05); }
/* Laser sweep underline effect */
.site-nav a::after {
    content: "";
    position: absolute;
    left: 10px;
    right: 10px;
    bottom: 2px;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--laser), transparent);
    border-radius: 2px;
    transform: scaleX(0);
    transform-origin: center;
    transition: transform .25s ease;
    box-shadow: 0 0 14px 2px var(--laser-glow);
}
.site-nav a:hover::after, .site-nav a:focus-visible::after { transform: scaleX(1); }
/* Sweep flash traveling dot */
.site-nav a::before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 10px;
    width: 14px;
    height: 3px;
    border-radius: 3px;
    background: radial-gradient(circle, #fff 0%, var(--laser) 60%, transparent 70%);
    filter: drop-shadow(0 0 6px var(--laser-glow));
    opacity: 0;
    transform: translateX(0);
}
.site-nav a:hover::before, .site-nav a:focus-visible::before {
    opacity: 1;
    animation: laser-scan 600ms cubic-bezier(.22,.61,.36,1) 1;
}
@keyframes laser-scan {
    0% { transform: translateX(0); opacity: .6; }
    50% { opacity: 1; }
    100% { transform: translateX(calc(100% - 32px)); opacity: 0; }
}
@media (prefers-reduced-motion: reduce) {
    .site-nav a::before, .site-nav a::after { transition: none; animation: none; }
}

/* Slightly tighter theme toggle in header */
.site-header #themeToggle { padding:6px 10px; }

.main-content { max-width:1100px; margin:24px auto; padding:0 24px; box-sizing:border-box; }

/* Improve wrapper spacing when header is present */
.wrapper { margin-top:12px; }

/* Brand banner used on simple pages */
.brand-banner { display:flex; align-items:center; gap:12px; padding:18px 50px; }
.brand-banner-logo { width:300px; height:70px; display:block; }
.brand-banner-text .brand-banner-title { font-size:1.15rem; font-weight:800; color:#0f172a; }
.brand-banner-text .brand-banner-sub { font-size:0.85rem; color:#6b7280; }

/* About page specific tweaks */
.about-hero { margin-bottom:18px; }

/* Modals (shared) */
.modal { display:none; position: fixed; inset: 0; background: rgba(15,23,42,0.5); z-index: 1000; }
.modal.open { display:block; }
.modal .modal-card { background: var(--card); border-radius: 16px; box-shadow: 0 16px 40px rgba(2,6,23,0.35); max-width: 640px; margin: 5% auto; overflow: hidden; border:1px solid var(--border); }
.modal .modal-header { padding:16px 20px; border-bottom:1px solid var(--border); font-weight:800; }
.modal .modal-body { padding:20px; }
.modal .modal-actions { padding:14px 20px; border-top:1px solid var(--border); display:flex; justify-content:flex-end; gap:10px; }

/* Item thumbnails (shared) */
.item-image { width:100%; max-height:240px; object-fit:cover; background:#f8fafc; border-bottom:1px solid var(--border); display:block; }

/* Footer */
footer.site-footer { color: var(--muted); }

/* Dark mode (opt-in via OS preference) */
@media (prefers-color-scheme: dark) {
    :root {
        /* Mirror Jellyfish-inspired palette when OS prefers dark */
        --bg: #0a0f1e;
        --card: #0f1b2d;
        --text: #e8f2ff;
        --muted: #88a1c3;
        --border: #1a2b45;
        --shadow: 0 6px 20px rgba(0,0,0,0.5);

        --primary: #4fd1d9;
        --primary-600: #35b7bf;
        --primary-700: #2a8e93;
        --info: #9adcf2;
    }
    .site-header { background: rgba(10,15,30,0.9); border-bottom-color: var(--border); }
    .site-nav a { color:#e5e7eb; }
    .site-nav a:hover { background:#1a2b45; color: var(--info); }
    .form-control { background:#111827; color:#e5e7eb; border-color:#1f2937; }
    .wrapper, .card { border-color:#1f2937; }
    .list { border-color:#1f2937; }
    .list .list-item { border-bottom-color:#1f2937; }
    .list .list-item:hover { background:#111827; }
    /* High-specificity dark table overrides for all lists */
    body .table th, body .request-table th, body .services-table th, body .reviews-table th, body .messages-table th, body .users-table th { background:#0b1220 !important; color:#e5e7eb; }
    body .table td, body .request-table td, body .services-table td, body .reviews-table td, body .messages-table td, body .users-table td { background:#0f172a !important; color:#e5e7eb; }
    body .table th, body .table td,
    body .request-table th, body .request-table td,
    body .services-table th, body .services-table td,
    body .reviews-table th, body .reviews-table td,
    body .messages-table th, body .messages-table td,
    body .users-table th, body .users-table td { border-color:#1f2937 !important; }
    body .table tr:nth-child(even) td,
    body .request-table tr:nth-child(even) td,
    body .services-table tr:nth-child(even) td,
    body .reviews-table tr:nth-child(even) td,
    body .messages-table tr:nth-child(even) td,
    body .users-table tr:nth-child(even) td { background:#111827 !important; }
    
    /* Improve text contrast on dark backgrounds */
    h1, h2, h3, h4 { color: var(--text); }
    p { color: #cbd5e1; }
    .brand-sub { color: #9ca3af; }
    .card .card-header, .card .card-body { color: var(--text); }
    .dashboard-links a { color: var(--text); }
    /* General link color in dark for readability */
    a { color: var(--info); }
}


/* Accessible Star Rating component */
.rating-stars { --star-size: 28px; --star-empty: #d1d5db; --star-filled: var(--warning); display:inline-flex; flex-direction: row-reverse; gap:8px; align-items:center; }
.rating-stars input[type="radio"] { position: absolute; opacity: 0; width: 1px; height: 1px; overflow: hidden; }
.rating-stars label { font-size: var(--star-size); line-height: 1; color: var(--star-empty); cursor: pointer; transition: color .15s ease, transform .1s ease; filter: drop-shadow(0 1px 0 rgba(0,0,0,0.05)); }
.rating-stars label:hover, .rating-stars label:focus { transform: translateY(-1px); }
/* Hover paints current + all lower stars (due to row-reverse, use ~) */
.rating-stars label:hover,
.rating-stars label:hover ~ label { color: var(--star-filled); }
/* Checked paints current + all lower stars */
.rating-stars input[type="radio"]:checked ~ label { color: var(--star-filled); }
/* Keyboard focus ring */
.rating-stars input[type="radio"]:focus + label { outline: 2px solid rgba(37,99,235,0.4); outline-offset: 2px; border-radius: 6px; }

/* Dark-mode tuning for empty star color */
html[data-theme='dark'] .rating-stars { --star-empty: #475569; }
@media (prefers-color-scheme: dark) {
    .rating-stars { --star-empty: #475569; }
}

/* Simple static stars (read-only display) */
.stars { display:inline-flex; gap:2px; color: var(--warning); }
.stars .star-empty { color: var(--muted); opacity: .5; }

/* Screen-reader only utility */
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,1px,1px); white-space:nowrap; border:0; }

/* ================= Notifications Page ================= */
.notifications-wrapper { max-width: 1000px; }
.notifications-header { display:flex; justify-content:space-between; align-items:flex-start; gap:24px; flex-wrap:wrap; margin-bottom:10px; }
.notifications-heading h1 { margin:0 0 6px; font-size:2rem; letter-spacing:.4px; }
.notifications-heading .notifications-sub { margin:0; color: var(--muted); font-size:.95rem; max-width:680px; }
.notifications-filter { margin-top:18px !important; }
.notifications-filter .filter-group { display:flex; flex-direction:column; gap:4px; }
.notifications-filter label { font-size:12px; font-weight:600; margin:0; }
.notifications-filter .filter-actions { display:flex; gap:8px; align-self:flex-end; }
.notification-list { display:flex; flex-direction:column; gap:10px; margin-top:18px; }
.notification-item { display:flex; gap:20px; padding:14px 16px; border:1px solid var(--border); border-radius:14px; background:var(--card); position:relative; box-shadow:0 2px 6px rgba(0,0,0,0.04); }
.notification-item.is-unread { background:linear-gradient(90deg, rgba(255,213,153,.25), rgba(255,255,255,0) 60%), var(--card); border-color:#f59e0b66; }
html[data-theme='dark'] .notification-item.is-unread { background:linear-gradient(90deg, rgba(245,158,11,.28), rgba(15,23,42,0) 65%), var(--card); }
.notification-title-row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.notification-subject { font-weight:700; font-size:1rem; letter-spacing:.3px; }
.notification-body { margin-top:6px; font-size:.92rem; line-height:1.5; color:var(--text); word-wrap:break-word; }
.notification-meta { margin-top:8px; font-size:11px; color:var(--muted); display:flex; gap:16px; flex-wrap:wrap; }
.notification-actions { display:flex; flex-direction:column; gap:8px; align-items:flex-end; justify-content:flex-start; }
.notification-actions form { margin:0; }
.notification-actions .already-read { font-size:11px; color:var(--muted); font-weight:600; }
.notifications-pager { display:flex; gap:10px; margin-top:20px; }
.new-badge { animation: pulseBadge 2.2s ease-in-out infinite; }
@keyframes pulseBadge { 0% { transform:scale(1); box-shadow:0 0 0 0 rgba(245,158,11,.5);} 70% { transform:scale(1.06); box-shadow:0 0 0 8px rgba(245,158,11,0);} 100% { transform:scale(1); box-shadow:0 0 0 0 rgba(245,158,11,0);} }
@media (max-width:780px){
    .notification-item { flex-direction:column; }
    .notification-actions { flex-direction:row; align-items:center; }
}



/* ---- Responsive enhancements ---- */
/* Make media scale nicely */
img, video { max-width: 100%; height: auto; }

/* Mobile navigation */
.nav-toggle { display:none; background: transparent; border: 2px solid var(--border); color: var(--text); border-radius: 10px; padding: 8px 10px; font-size: 1rem; cursor: pointer; }
.nav-toggle:focus { outline: 2px solid rgba(37,99,235,0.3); }

@media (max-width: 900px){
    .site-header .container { flex-wrap: wrap; gap: 8px; }
    .site-logo { width: 210px; max-width: 56vw; }
    .nav-toggle { display: inline-block; }
    .site-nav { width: 100%; order: 3; display: none; flex-direction: column; gap: 8px; padding: 8px 0; }
    .site-nav.open { display: flex; }
    .site-nav a { margin: 0; padding: 10px 12px; }
    .site-header #themeToggle { align-self: flex-start; margin-left: 0; }
}

/* Table horizontal scroll on small screens */
.table-wrap { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }
.table, .request-table, .services-table, .reviews-table, .messages-table, .users-table { min-width: 640px; }

/* Modal sizing on small screens */
@media (max-width: 640px){
    .modal .modal-card { margin: 10% 12px; width: auto; }
}

/* Tighter layout for small devices */
@media (max-width:800px){
    .wrapper { margin:12px; padding:16px; }
    .dashboard-links a { flex:1 1 100%; }
    .request-table th, .request-table td { font-size:0.92rem; padding:8px; }
    .grid-2 { grid-template-columns: 1fr; }
}

/* Password visibility toggle (icon button) */
.password-field.icon-variant { position:relative; }
.password-field.icon-variant .form-control { padding-right:44px; }
.pw-icon-btn { position:absolute; right:8px; top:50%; transform:translateY(-50%); background:transparent; border:1px solid var(--border); width:36px; height:36px; padding:0; margin:0; border-radius:8px; display:flex; align-items:center; justify-content:center; cursor:pointer; color:var(--muted); transition: background .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease; }
.pw-icon-btn:hover { background: var(--primary); color:#fff; border-color: var(--primary); }
.pw-icon-btn:active { transform: translateY(-50%) scale(.95); }
.pw-icon-btn:focus-visible { outline:2px solid var(--primary-600); outline-offset:2px; }
.pw-icon-btn .pw-icon { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; opacity:0; transition: opacity .15s ease, transform .25s ease; }
.pw-icon-btn .pw-icon-show { opacity:1; }
.pw-icon-btn.visible .pw-icon-show { opacity:0; transform: scale(.6); }
.pw-icon-btn.visible .pw-icon-hide { opacity:1; transform: scale(1); }
.pw-icon-btn .pw-icon-hide { transform: scale(.6); }
html[data-theme='dark'] .pw-icon-btn { border-color:#22354f; color:#6b91b5; }
html[data-theme='dark'] .pw-icon-btn:hover { background: var(--primary-600); color:#fff; border-color: var(--primary-600); }


